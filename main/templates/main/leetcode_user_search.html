<!-- leetcode_user_search.html -->
{% extends 'main/base.html' %}
{% block title %}LeetCode Friends | Search for LeetCode Users{% endblock %}
{% block content %}
{% load crispy_forms_tags %}


<html>

<head>
    <title>LeetCode User Search</title>
</head>

<body>
    <h1>Search for LeetCode Users</h1>
    <form id="user-search-form">
        <label for="username">Enter a LeetCode Username:</label>
        <input type="text" id="username" name="username">
        <button type="button" onclick="loadExternalWebsite()">Go!</button>
    </form>
    <div id="external-website"></div>

    <script>
        function loadExternalWebsite() {
            const usernameInput = document.getElementById("username");
            const username = usernameInput.value.trim(); // Remove leading and trailing spaces
            if (username === "") {
                alert("Please enter a valid LeetCode username."); // Show an alert if the input is empty
                return;
            }

            const iframe = document.createElement("iframe");
            iframe.src = "https://leetcode.com/" + username;
            iframe.width = "100%";
            iframe.height = "500px";
            document.getElementById("external-website").innerHTML = "";
            document.getElementById("external-website").appendChild(iframe);
        }

        // Add event listener for form submission
        document.getElementById("user-search-form").addEventListener("submit", function (event) {
            event.preventDefault();
            loadExternalWebsite();
        });
    </script>
</body>

</html>


{% endblock %}